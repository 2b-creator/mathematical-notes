\documentclass[UTF8,12pt]{ctexbook}

\def\pdftitle{数学笔记}
\def\pdfauthor{KaiserKatze}

\title{\pdftitle}
\author{\pdfauthor}
\date{
Powered by \TeX \\
\today
}

\usepackage{my-math-note}
\allowdisplaybreaks


\includeonly{parts/集合论}


\begin{document}
\include{parts/封面}

\frontmatter
%\pagenumbering{roman} % 页码：小写罗马数字
\include{parts/前言}

\tableofcontents

\mainmatter
%\pagenumbering{arabic} % 页码：阿拉伯数字

% 每章新起一张
\let\oldchapter\chapter
\renewcommand{\chapter}{\cleardoublepage\oldchapter}
% 每节新起一页
\let\oldsection\section
\renewcommand{\section}{\clearpage\oldsection}

\everymath{\displaystyle}

%--------------------------------------
\renewcommand{\v}[3][1]{%
\begingroup%
\ifnum0<0#3\relax{%
  \setcounter{enumi}{#1}%
  {#2}_{\theenumi}%
  \stepcounter{enumi}%
  \whileboolexpr{not test{\ifnumcomp{\value{enumi}}>{#3}}}%
  {%
    ,\allowbreak{#2}_{\theenumi}%
    \stepcounter{enumi}%
  }%
}\else%
  \ifx#30\relax%
    {#2}_{#1},\allowbreak{#2}_{\number\numexpr#1+1},\allowbreak\dotsc
  \else
    {#2}_{#1},\allowbreak{#2}_{\number\numexpr#1+1},\allowbreak\dotsc,\allowbreak{#2}_{#3}%
  \fi
\fi\endgroup%
}% 生成形如“X_1,X_2,\dotsc,X_n”的字符串
%--------------------------------------

\include{parts/集合论}
\include{parts/初等数学}
\include{parts/几何}
\include{parts/线性代数}
\include{parts/抽象代数}
\include{parts/单变量微积分}
\include{parts/多变量微积分}
\include{parts/拓扑学}
\include{parts/复分析}
\include{parts/概率论与数理统计}

\backmatter
\include{parts/附录}

\end{document}
