\section{实数}
古希腊毕达哥拉斯学派的数学家发现，
对于一个等腰直角三角形，
假设它的直角边都是单位长度，
要想求出它的斜边长，
仅凭有理数，显然不足以表示它.
因此我们要将有理数系进一步扩张为实数系，
这也是我们本节要着重学习的内容.

\subsection{实数的构造}
\subsubsection*{第一种途径：利用柯西列构造实数}
\begin{definition}
%@see: 《Elements of Set Theory》 P112.
设映射\(s\colon \omega\to\mathbb{Q}\)满足\[
	(\forall\epsilon\in\mathbb{Q}^+)(\exists k\in\omega)(\forall m>k)(\forall n>k)
	[\abs{s(m) - s(n)}<\epsilon],
\]
则称“\(s\)是一个\DefineConcept{柯西列}（Cauchy sequence）”.
\end{definition}

\begin{definition}
%@see: 《Elements of Set Theory》 P112.
我们把全体柯西列的集合记为\(S\).
定义关系\(\sim\)：\[
	r \sim s
	\defiff
	(\forall\epsilon\in\mathbb{Q}^+)(\exists k\in\omega)(\forall n>k)
	[\abs{r(n)-s(n)}<\epsilon],
\]
称“柯西列\(r\)和\(s\)等价”.
\end{definition}

可以证明关系\(\sim\)是柯西列集\(S\)上的等价关系，
以此为基础我们可以确定一个等价类划分，把它定义为实数.
\begin{definition}
%@see: 《Elements of Set Theory》 P112.
称“\(S\)对\(\sim\)的商集”为\DefineConcept{实数集}（the set of real numbers），
记作\(\mathbb{R}\)，即\[
	\mathbb{R} \defeq S/\kern-2pt\sim.
\]
\end{definition}
这种构造实数集的方法归功于康托.

\subsubsection*{第二种途径：利用戴德金分割构造实数}
\begin{definition}
%@see: 《Elements of Set Theory》 P113. Definition
设集合\(x \subseteq \mathbb{Q}\).
如果\begin{enumerate}
	\item \(\emptyset \neq x \neq \mathbb{Q}\)；
	\item \(x\)向下封闭（\(x\) is closed downward），即\[
		q \in x \land r < q \implies r \in x;
	\]
	\item \(x\)没有最大元素，
\end{enumerate}
那么称“\(x\)是一个\DefineConcept{戴德金分割}（Dedekind cut）”.
\end{definition}

应该注意到，这里没有提到等价关系，实数也不是戴德金分割的等价类，
相反地，每个戴德金分割都是一个\DefineConcept{实数}（real number）.
最终，全体戴德金分割的集合就是实数集.

在戴德金分割途径下，对实数的序的定义非常简洁.
对于任意两个实数\(x\)和\(y\)，定义“小于”关系\(<\)：\[
	x < y \defiff x \subset y.
\]
换句话说，\[
	<\ \defeq \Set*{ \opair{x,y}\in\mathbb{R}\times\mathbb{R} \given x \subset y }.
\]

\begin{theorem}
%@see: 《Elements of Set Theory》 P113. Theorem 5RA
关系\(<\)是实数集\(\mathbb{R}\)上的线性序.
\end{theorem}

考虑集合\(A \subseteq \mathbb{R}\).
如果实数\(x\)满足\[
	(\forall y \in A)[y \leq x],
\]
那么称“\(x\)是\(A\)的\DefineConcept{上界}（\(x\) is an \emph{upper bound} of \(A\)）”.
需要注意到，\(x\)本身可能不是\(A\)的元素.
如果存在实数\(y\)，恰有\(y\)是\(A\)的上界，
那么称“\(A\)有上界（the set \(A\) is bounded above）”.
如果\(A\)的上界\(z\)比其他任何上界都要小，
那么称“\(z\)是\(A\)的\DefineConcept{最小上界}（least upper bound）”.

\begin{theorem}
%@see: 《Elements of Set Theory》 P114. Theorem 5RB
实数集的任意一个有上界的非空子集总有一个实最小上界.
\end{theorem}
这个定理在数学分析中非常重要.
它可以用来证明在闭区间上的连续函数一定能取得最值.

\begin{definition}
对于\(\forall x,y\in\mathbb{R}\)，
我们定义实数集上的加法运算：
\begin{equation}
	x + y \defeq \Set{
		q + r \given q \in x \land r \in y
	}.
\end{equation}
\end{definition}

\begin{lemma}
%@see: 《Elements of Set Theory》 P114. Lemma 5RC
若\(x,y\in\mathbb{R}\)，那么\(x+y\in\mathbb{R}\).
\end{lemma}

\begin{theorem}
%@see: 《Elements of Set Theory》 P115. Theorem 5RD
以下命题恒成立：
\begin{enumerate}
	\item 加法交换律
	\begin{equation}
		(\forall x,y\in\mathbb{R})[x+y=y+x].
	\end{equation}
	\item 加法结合律
	\begin{equation}
		(\forall x,y,z\in\mathbb{R})[(x+y)+z=x+(y+z)].
	\end{equation}
\end{enumerate}
\end{theorem}

\begin{definition}
定义：\(0\defeq\Set{ r\in\mathbb{Q} \given r<0 }\).
\end{definition}

\begin{theorem}
%@see: 《Elements of Set Theory》 P116. Theorem 5RE
以下命题恒成立：
\begin{enumerate}
	\item \(0\)是实数.
	\item 任意实数加上实数\(0\)不变
	\begin{equation}
		(\forall x\in\mathbb{R})[x+0=x].
	\end{equation}
\end{enumerate}
\end{theorem}

\begin{definition}
%@see: 《Elements of Set Theory》 P117.
设\(x\in\mathbb{R}\).
那么称集合\[
	\Set{ r \in \mathbb{Q} \given (\exists s>r) -s \notin x }
\]为“\(x\)的负元”，记作\((-x)\).
\end{definition}

\begin{theorem}
%@see: 《Elements of Set Theory》 P117. Theorem 5RF
设\(x\in\mathbb{R}\)，那么\begin{enumerate}
	\item \(-x\in\mathbb{R}\).
	\item \(x+(-x)=0\).
\end{enumerate}
\end{theorem}

\begin{corollary}\label{theorem:集合论.实数的消去律}
%@see: 《Elements of Set Theory》 P118. Corollary 5RG
\((\forall x,y,z\in\mathbb{R})[
	x+z=y+z \implies x=y
]\).
\end{corollary}

\begin{theorem}\label{theorem:集合论.实数的加法的保序性}
%@see: 《Elements of Set Theory》 P118. Theorem 5RH
\((\forall x,y,z\in\mathbb{R})[
	x<y \iff x+z<y+z
]\).
\end{theorem}

\begin{definition}
%@see: 《Elements of Set Theory》 P118.
设\(x\in\mathbb{R}\).
把\(x \cup -x\)称为“\(x\)的\DefineConcept{绝对值}（absolute value），
记作\(\abs{x}\)，即\[
	\abs{x} \defeq x \cup -x.
\]
\end{definition}

\begin{definition}
定义：
\begin{enumerate}
	\item 如果\(x,y\)都是非负实数，那么\[
		x \cdot y
		\defeq
		0 \cup \Set{ r \cdot s \given 0 \leq r \in x \land 0 \leq s \in y }.
	\]

	\item 如果\(x,y\)都是负实数，那么\[
		x \cdot y \defeq \abs{x} \cdot \abs{y}.
	\]

	\item 如果\(x,y\)中一个是负实数一个是非负实数，那么\[
		x \cdot y \defeq -(\abs{x} \cdot \abs{y}).
	\]
\end{enumerate}
\end{definition}

\begin{definition}
定义：\(1\defeq\Set{ r\in\mathbb{Q} \given r < 1 }\).
\end{definition}

\begin{theorem}
%@see: 《Elements of Set Theory》 P119. Theorem 5RI
以下命题恒成立：
\begin{enumerate}
	\item 实数集对乘法封闭\begin{equation}
		(\forall x,y\in\mathbb{R})[x \cdot y \in \mathbb{R}].
	\end{equation}
	\item 乘法结合律\begin{equation}
		(\forall x,y,z\in\mathbb{R})[(x+y)+z=x+(y+z)].
	\end{equation}
	\item 乘法交换律\begin{equation}
		(\forall x,y\in\mathbb{R})[x+y=y+z].
	\end{equation}
	\item 乘法分配律\begin{equation}
		(\forall x,y,z\in\mathbb{R})[x\cdot(y+z)=x \cdot y+x \cdot z].
	\end{equation}
	\item \(0\neq1\).
	\item \(x\cdot1=x\).
	\item \((\forall x\in\mathbb{R}^*)(\exists y\in\mathbb{R}^*)[x \cdot y=1]\).
	\item \(0<z \implies [x<y \iff x \cdot z<y \cdot z]\).
\end{enumerate}
\end{theorem}

\subsection{区间}
定义：\begin{gather}
	(a,b) \defeq \Set{ x\in\mathbb{R} \given a<x<b }, \\
	[a,b] \defeq \Set{ x\in\mathbb{R} \given a \leq x \leq b }, \\
	(a,b] \defeq \Set{ x\in\mathbb{R} \given a < x \leq b }, \\
	[a,b) \defeq \Set{ x\in\mathbb{R} \given a \leq x < b }.
\end{gather}
%@see: https://mathworld.wolfram.com/Interval.html

\subsection{确界}
\begin{definition}
%@see: 《数学分析教程》（史济怀） P40. 定义1.8.1
设\(X\)是一个非空的有上界的实数的子集，
\(\beta\)是一个实数.
若\begin{enumerate}
	\item \((\forall x \in X)[x \leq \beta]\)，
	\item \((\forall \epsilon>0)(\exists x \in X)[x>\beta-\epsilon]\)，
\end{enumerate}
则称“\(\beta\)是\(X\)的\DefineConcept{上确界}（supremum）”
记\(\sup X = \beta\).
%@see: https://mathworld.wolfram.com/Supremum.html
\end{definition}

\begin{definition}
%@see: 《数学分析教程》（史济怀） P40. 定义1.8.2
设\(X\)是一个非空的有下界的实数的子集，
\(\alpha\)是一个实数.
若\begin{enumerate}
	\item \((\forall x \in X)[x \geq \alpha]\)，
	\item \((\forall \epsilon>0)(\exists x \in X)[x<\alpha+\epsilon]\)，
\end{enumerate}
则称“\(\alpha\)是\(X\)的\DefineConcept{下确界}”
记\(\inf X = \alpha\).
%@see: https://mathworld.wolfram.com/Infimum.html
\end{definition}

\begin{proposition}
设\(X\)是一个非空的有上界的实数的子集，
则\(X\)的上确界就是\(X\)的最小上界.
\end{proposition}

\begin{proposition}
设\(X\)是一个非空的有下界的实数的子集，
则\(X\)的下确界就是\(X\)的最大下界.
\end{proposition}

% 如果集合\(X\)下方无界，则记\[
% 	\inf X = -\infty.
% \]
% 如果集合\(X\)上方无界，则记\[
% 	\sup X = +\infty.
% \]

\begin{theorem}[确界原理]
%@see: 《数学分析教程》（史济怀） P41. 定理1.8.1
非空的有上界的实数的子集必有上确界.
非空的有下界的实数的子集必有下确界.
\end{theorem}

\subsection{有限覆盖定理}
\begingroup
\def\J{\mathscr{J}}%开区间族
\begin{definition}
%@see: 《数学分析教程》（史济怀） P43. 定义1.9.1
设\(A\)是一个实数的子集，
\(\J\)是一个开区间族.
如果\[
	A \subset \bigcup \J,
\]
那么称“开区间族\(\J\)是\(A\)的一个\DefineConcept{开覆盖}”.
\end{definition}

\begin{theorem}[紧致性定理]\label{theorem:实数.紧致性定理}
%@see: 《数学分析教程》（史济怀） P43. 定理1.9.1
设\([a,b]\)是一个有限闭区间，
并且它有一个开覆盖\(\J\)，
那么\[
	(\exists \J')
	[
		\J' \subseteq \J
		\land
		\text{\(\J'\)是有限集}
		\land
		\text{\(\J'\)是\([a,b]\)的开覆盖}
	].
\]
\end{theorem}
\cref{theorem:实数.紧致性定理} 常被称为\DefineConcept{有限覆盖定理}，
也称为\DefineConcept{海涅--波莱尔定理}.

\endgroup%end of subsection{有限覆盖定理}
